#!/usr/bin/env bash
# After merging, push the updated branch to remote automatically.
branch=$(git symbolic-ref --quiet --short HEAD) || exit 0
remote="origin"

if git config --get remote.$remote.url >/dev/null; then
  echo "[post-merge] Pushing merged changes of $branch to $remote ..."
  git push $remote $branch --quiet
  if [ $? -ne 0 ]; then
    echo "[post-merge] WARNING: automatic push failed. Please push manually after resolving issues."
  fi
else
  echo "[post-merge] No '$remote' remote configured; skipping automatic push."
fi
